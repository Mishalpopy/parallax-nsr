<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="imges/paralax.js"></script>
    <link rel="stylesheet" href="para.css">
</head>
<body>
    <div class="parallax">
        <div class="parallax-item p-item1"></div>
        <div class="parallax-item p-item2">
            <h1 style="z-index: 9999999999999999999;">YOUR<br> <span> GUIDING STAR</span> </h1>
            <img src="imges/guiding-star-02.svg">
        </div>
        <div class="parallax-item p-item3"></div>
        <div class="parallax-item p-item4"></div>
        <div class="container-parallax-3d-hero">
            <div class="content-header-parallax-3d-hero">
                <h1 style="z-index: 9999999999999999999;">YOUR<br> <span> YOUR REAL ESTATE<br> BROKER</span> </h1>
            </div>
            <div class="content-parallax-3d-hero">
                <img src="imges/buildings.png" alt="">
            </div>
        </div>
        <div class="container-parallax-3d-hero-2">
            <div class="content-parallax-3d-hero-2">
                <img src="imges/management-min.png" alt="">
            </div>
        </div>
    </div>
    <script>
        window.onload = function() {
            window.addEventListener('scroll', function(e) {
                let s = this.scrollY;
                let w = this.outerWidth;
                let h = document.getElementsByClassName('parallax')[0].clientWidth;
                let h_b = document.getElementsByClassName('container-parallax-3d-hero')[0].clientWidth;
                let p = s / h * 10;
                let p_b = s / h_b * 10;

                let translateY = -s * 1.9; // Adjust the speed of upward movement here

                let opas = 1 - 1 / 100 * p_b;
                let z_1 = 1 + (w / 10000 * p_b);
                document.getElementsByClassName('p-item4')[0].style = `transform: scale(${z_1}) translateY(${translateY}px); opacity: ${opas}`;

                let z_2 = 1 + (w / 5000000 * p);
                document.getElementsByClassName('p-item1')[0].style = `transform: scale(${z_2})`;
                let rotation = (s / window.innerHeight) * 360; 
                let pItem2 = document.querySelector('.p-item2');
                pItem2.style.transform = `translateY(${translateY}px)`;
                pItem2.querySelector('img').style.transform = `rotate(${rotation}deg)`;

                // let hr = w / 2000 * p_b;
                // let z_3 = 1 + (w * 0.000005 * p_b);
                // document.getElementsByClassName('p-item3')[0].style = `transform: translate3d(${hr}px,0,0) scale(${z_3})`;

                let hr_2 = w / 100 * p_b;
                let z_4 = 1 + (w * 0.00001 * p_b);
                document.querySelector('.content-parallax-3d-hero').style = `transform: translate3d(${hr_2}px,0,0) scale(${z_4})`;

                // Calculate text translation and opacity
                let textTranslateY = s * 0.3; // Adjust the speed of text emergence here
                let textOpacity = 1 - s / (window.innerHeight * 19.5);

                let headerText = document.querySelector('.content-header-parallax-3d-hero h1');
                headerText.style.transform = `translateY(${textTranslateY}px)`;
                headerText.style.opacity = textOpacity;

                // Calculate opacity for the content-parallax-3d-hero section
                let heroOpacity = 1 - s / (window.innerHeight * 10.5); // Adjust the threshold
                let contentParallax3dHero = document.querySelector('.content-parallax-3d-hero');
                contentParallax3dHero.style.opacity = heroOpacity;

                console.log('s:', s);
                console.log('textTranslateY:', textTranslateY);
                console.log('textOpacity:', textOpacity);
            });
        };
    </script>
</body>
</html>
